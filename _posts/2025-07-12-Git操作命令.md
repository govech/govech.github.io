---
title: "Git操作命令"
date: 2025-07-12 17:33:00 +0800
categories: [Git]
---



------

## 一、Git 仓库初始化与配置

| 命令                                | 说明                         |
| ----------------------------------- | ---------------------------- |
| `git init`                          | 初始化本地 Git 仓库          |
| `git config --global color.ui true` | 启用命令行彩色显示（更易读） |



------

## 二、工作区 ➜ 暂存区 ➜ 版本库

| 命令                     | 说明                                                        |
| ------------------------ | ----------------------------------------------------------- |
| `git status`             | 查看当前状态（修改、暂存、未跟踪等）                        |
| `git add <file>`         | 添加文件到暂存区                                            |
| `git add .`              | 添加所有修改的文件到暂存区                                  |
| `git commit -m "备注"`   | 提交暂存区到本地仓库，附提交信息                            |
| `git diff`               | 查看未暂存的修改                                            |
| `git reset HEAD <file>`  | 撤销 `add`，把文件从暂存区退回工作区                        |
| `git checkout -- <file>` | 撤销工作区对文件的修改（恢复到最近 `add` 或 `commit` 状态） |



------

## 三、版本回退与历史查看

| 命令                                | 说明                                                    |
| ----------------------------------- | ------------------------------------------------------- |
| `git log`                           | 查看提交历史（含作者、时间、备注）                      |
| `git log --pretty=oneline`          | 单行方式查看提交历史                                    |
| `git reflog`                        | 查看所有 HEAD 的移动记录（包括 `reset`、`checkout` 等） |
| `git reset --hard <commit_id>`      | 强制回退到某个版本                                      |
| `git reset --hard HEAD^` / `HEAD~1` | 回退到上一个提交                                        |



------

## 四、文件删除

| 命令                       | 说明                           |
| -------------------------- | ------------------------------ |
| `git rm <file>`            | 删除已提交的文件，并加入暂存区 |
| `git commit -m "删除文件"` | 提交删除操作                   |



------

## 五、远程仓库相关操作

| 命令                          | 说明                       |
| ----------------------------- | -------------------------- |
| `git remote add origin <url>` | 添加远程仓库地址           |
| `git push -u origin master`   | 首次推送并建立跟踪关系     |
| `git push origin master`      | 推送本地 master 分支到远程 |
| `git clone <url>`             | 克隆远程仓库               |



------

## 六、分支管理

| 命令                                          | 说明                           |
| --------------------------------------------- | ------------------------------ |
| `git branch`                                  | 查看所有本地分支               |
| `git branch <name>`                           | 创建新分支                     |
| `git checkout <name>`                         | 切换分支                       |
| `git checkout -b <name>`                      | 创建并切换分支                 |
| `git merge <name>`                            | 合并指定分支到当前分支         |
| `git merge --no-ff -m "说明" <name>`          | 禁用快进模式合并，保留合并历史 |
| `git branch -d <name>`                        | 删除已合并的分支               |
| `git branch -D <name>`                        | 强制删除未合并的分支           |
| `git checkout -b dev origin/dev`              | 创建并切换远程分支到本地       |
| `git branch --set-upstream-to=origin/dev dev` | 建立本地分支与远程分支的关联   |



------

## 七、stash（工作现场存储）

| 命令              | 说明                           |
| ----------------- | ------------------------------ |
| `git stash`       | 暂存当前修改（清空工作区）     |
| `git stash list`  | 查看所有 stash                 |
| `git stash apply` | 恢复最近的 stash，但保留 stash |
| `git stash pop`   | 恢复并删除 stash               |



------

## 八、版本标签（tag）

| 命令                               | 说明                     |
| ---------------------------------- | ------------------------ |
| `git tag`                          | 查看所有标签             |
| `git tag <tag>`                    | 创建标签（默认当前提交） |
| `git tag -a <tag> -m "说明"`       | 创建带说明的标签         |
| `git show <tag>`                   | 查看标签详情             |
| `git push origin <tag>`            | 推送某个标签到远程       |
| `git push origin --tags`           | 推送所有标签到远程       |
| `git tag -d <tag>`                 | 删除本地标签             |
| `git push origin :refs/tags/<tag>` | 删除远程标签             |



------

## 九、冲突处理（合并场景）

### 合并分支时发生冲突时：

| 命令                 | 说明                 |
| -------------------- | -------------------- |
| `git merge <branch>` | 合并分支             |
| 手动编辑冲突文件     | 保留或合并两边的代码 |
| `git add <file>`     | 标记冲突已解决       |
| `git commit`         | 提交合并结果         |